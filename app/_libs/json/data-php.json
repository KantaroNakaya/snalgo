[
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "文字列を逆にせよ",
        "description": "与えられた文字列を逆順にして返す関数 `reverseString` を作成してください。",
        "templateCode": "<?php\nfunction reverseString($str) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$result = '';\nfor ($i = strlen($str) - 1; $i >= 0; $i--) {\n  $result .= $str[$i];\n}\nreturn $result;",
        "answer01_hint": "末尾から1文字ずつ結合",
        "answer01_desc": "文字列の最後の文字から順番に、新しい文字列に1文字ずつ追加していく方法です。例えば「こんにちは」という文字列なら、「は」「ち」「に」「ん」「こ」の順に結合していきます。",
        "answer02_code": "return strrev($str);",
        "answer02_hint": "strrev関数使用",
        "answer02_desc": "PHPの組み込み関数strrev()を使って文字列を逆順にする方法です。最も簡単で効率的な方法です。",
        "answer03_code": "return implode('', array_reverse(str_split($str)));",
        "answer03_hint": "配列操作で一括変換",
        "answer03_desc": "str_split()で文字列を配列に変換し、array_reverse()で配列を逆順にして、implode()で文字列に戻す方法です。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "配列の合計を求めよ",
        "description": "整数の配列を受け取り、その合計を返す関数 `sumArray` を作成してください。",
        "templateCode": "<?php\nfunction sumArray($arr) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$total = 0;\nforeach ($arr as $num) {\n  $total += $num;\n}\nreturn $total;",
        "answer01_hint": "foreach文で順次加算",
        "answer01_desc": "配列の数字を1つずつ順番に足し合わせていく方法です。例えば[1, 2, 3]という配列なら、0から始めて1を足し、2を足し、3を足して、最終的に6になります。",
        "answer02_code": "return array_sum($arr);",
        "answer02_hint": "array_sum関数使用",
        "answer02_desc": "PHPの組み込み関数array_sum()を使って配列の合計を直接計算する方法です。最も簡単で効率的な方法です。",
        "answer03_code": "return array_reduce($arr, function($carry, $item) {\n  return $carry + $item;\n}, 0);",
        "answer03_hint": "array_reduceで集計",
        "answer03_desc": "array_reduce()関数を使って配列の数字をまとめて足し合わせる方法です。最初に0を設定し、そこに配列の数字を1つずつ足していきます。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "偶数のみ抽出",
        "description": "整数配列から偶数だけを抽出して返す関数 `filterEven` を作成してください。",
        "templateCode": "<?php\nfunction filterEven($arr) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$result = [];\nforeach ($arr as $num) {\n  if ($num % 2 === 0) {\n    $result[] = $num;\n  }\n}\nreturn $result;",
        "answer01_hint": "foreach文で条件分岐",
        "answer01_desc": "配列の数字を1つずつ確認し、2で割り切れる数（偶数）だけを新しい配列に追加していく方法です。例えば[1, 2, 3, 4]という配列なら、[2, 4]という配列ができます。",
        "answer02_code": "return array_filter($arr, function($num) {\n  return $num % 2 === 0;\n});",
        "answer02_hint": "array_filterで条件抽出",
        "answer02_desc": "array_filter()関数を使って配列から条件に合う数字だけを選び出す方法です。2で割り切れる数だけを選び出して新しい配列を作ります。",
        "answer03_code": "return array_values(array_filter($arr, 'is_even'));",
        "answer03_hint": "is_even関数使用",
        "answer03_desc": "is_even()関数とarray_filter()を組み合わせて偶数を抽出する方法です。array_values()でインデックスを振り直します。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "文字数をカウントせよ",
        "description": "与えられた文字列の長さを返す関数 `getLength` を作成してください。",
        "templateCode": "<?php\nfunction getLength($str) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$count = 0;\nfor ($i = 0; $i < strlen($str); $i++) {\n  $count++;\n}\nreturn $count;",
        "answer01_hint": "for文で1文字ずつカウント",
        "answer01_desc": "文字列の文字を1つずつ数えていく方法です。例えば「こんにちは」という文字列なら、1文字目、2文字目...と数えていき、最終的に5という数字が得られます。",
        "answer02_code": "return strlen($str);",
        "answer02_hint": "strlen関数使用",
        "answer02_desc": "PHPの組み込み関数strlen()を使って文字列の長さを直接取得する方法です。最も簡単で効率的な方法です。",
        "answer03_code": "return mb_strlen($str, 'UTF-8');",
        "answer03_hint": "mb_strlenでマルチバイト対応",
        "answer03_desc": "mb_strlen()関数を使ってマルチバイト文字（日本語など）の文字数を正確にカウントする方法です。UTF-8エンコーディングを指定します。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "最大値を見つけよ",
        "description": "整数の配列から最大値を返す関数 `getMax` を作成してください。",
        "templateCode": "<?php\nfunction getMax($arr) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$max = $arr[0];\nforeach ($arr as $num) {\n  if ($num > $max) {\n    $max = $num;\n  }\n}\nreturn $max;",
        "answer01_hint": "foreach文で最大値更新",
        "answer01_desc": "配列の最初の数字を最大値として覚えておき、それ以降の数字と1つずつ比較していく方法です。より大きい数字が見つかったら、それを新しい最大値として覚えます。",
        "answer02_code": "return max($arr);",
        "answer02_hint": "max関数使用",
        "answer02_desc": "PHPの組み込み関数max()を使って配列の中から一番大きい数字を直接見つける方法です。最も簡単で効率的な方法です。",
        "answer03_code": "return array_reduce($arr, function($carry, $item) {\n  return $item > $carry ? $item : $carry;\n}, $arr[0]);",
        "answer03_hint": "array_reduceで比較",
        "answer03_desc": "array_reduce()関数を使って配列の要素を順番に比較し、最大値を見つける方法です。関数型プログラミングのアプローチです。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "配列をソートせよ",
        "description": "整数配列を小さい順に並び替える関数 `sortArray` を作成してください。隣り合う2つの数を比較して、大きい方を右に移動させる方法を使ってください。",
        "templateCode": "<?php\nfunction sortArray($arr) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$result = $arr;\n$length = count($result);\nfor ($i = 0; $i < $length - 1; $i++) {\n  for ($j = 0; $j < $length - $i - 1; $j++) {\n    if ($result[$j] > $result[$j + 1]) {\n      $temp = $result[$j];\n      $result[$j] = $result[$j + 1];\n      $result[$j + 1] = $temp;\n    }\n  }\n}\nreturn $result;",
        "answer01_hint": "隣り合う数を比較して交換",
        "answer01_desc": "隣り合う2つの数字を比較して、左の数字が右の数字より大きい場合は入れ替える方法です。これを繰り返すことで、最終的に小さい順に並びます。例えば[3, 1, 4, 2]という配列なら、[1, 2, 3, 4]になります。",
        "answer02_code": "sort($arr);\nreturn $arr;",
        "answer02_hint": "sort関数使用",
        "answer02_desc": "PHPの組み込み関数sort()を使って配列を並び替える方法です。数字を小さい順に並べるための簡単な方法ですが、配列の中身が変わってしまうことに注意が必要です。",
        "answer03_code": "$result = $arr;\nasort($result);\nreturn array_values($result);",
        "answer03_hint": "asortで連想配列対応",
        "answer03_desc": "asort()関数を使って配列を並び替え、array_values()でインデックスを振り直す方法です。元の配列のキーを保持しながらソートできます。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "配列から要素を探す",
        "description": "配列から特定の値を探し、その位置を返す関数 `findElement` を作成してください。見つからない場合は-1を返してください。",
        "templateCode": "<?php\nfunction findElement($arr, $target) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "foreach ($arr as $index => $value) {\n  if ($value === $target) {\n    return $index;\n  }\n}\nreturn -1;",
        "answer01_hint": "foreach文で順番に確認",
        "answer01_desc": "配列の要素を1つずつ順番に確認し、探している値と一致する要素を見つけたらその位置を返す方法です。見つからない場合は-1を返します。",
        "answer02_code": "$index = array_search($target, $arr);\nreturn $index !== false ? $index : -1;",
        "answer02_hint": "array_search関数使用",
        "answer02_desc": "PHPの組み込み関数array_search()を使って配列から値を探す方法です。見つからない場合はfalseを返すので、-1に変換します。",
        "answer03_code": "return in_array($target, $arr) ? array_keys($arr, $target)[0] : -1;",
        "answer03_hint": "in_arrayとarray_keysを組み合わせ",
        "answer03_desc": "in_array()で値の存在を確認し、array_keys()でその値のキーを取得する方法です。最初に見つかった要素の位置を返します。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "文字列の前後一致判定",
        "description": "与えられた文字列が前から読んでも後ろから読んでも同じになるかどうかを判定する関数 `isPalindrome` を作成してください。",
        "templateCode": "<?php\nfunction isPalindrome($str) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$left = 0;\n$right = strlen($str) - 1;\nwhile ($left < $right) {\n  if ($str[$left] !== $str[$right]) return false;\n  $left++;\n  $right--;\n}\nreturn true;",
        "answer01_hint": "両端から1文字ずつ比較",
        "answer01_desc": "文字列の最初と最後の文字から順番に比較していく方法です。例えば「しんぶんし」という文字列なら、「し」と「し」、「ん」と「ん」、「ぶ」と「ぶ」を比較します。",
        "answer02_code": "return $str === strrev($str);",
        "answer02_hint": "strrevで文字列を反転",
        "answer02_desc": "strrev()関数で文字列を逆順にしてから比較する方法です。例えば「しんぶんし」という文字列なら、逆順にしても「しんぶんし」になるので、回文だと分かります。",
        "answer03_code": "$cleanStr = preg_replace('/[^a-zA-Z0-9]/', '', strtolower($str));\nreturn $cleanStr === strrev($cleanStr);",
        "answer03_hint": "記号を除いて比較",
        "answer03_desc": "toLowerCase()メソッドで文字列を小文字に変換し、replace()メソッドで記号を除いてから回文かどうかを判定する方法です。例えば「A man, a plan, a canal: Panama」という文字列なら、記号を除いて「amanaplanacanalpanama」となり、回文だと分かります。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "配列の重複を削除",
        "description": "配列から重複する要素を削除する関数 `removeDuplicates` を作成してください。",
        "templateCode": "<?php\nfunction removeDuplicates($arr) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$result = [];\nforeach ($arr as $item) {\n  if (!in_array($item, $result)) {\n    $result[] = $item;\n  }\n}\nreturn $result;",
        "answer01_hint": "foreach文で重複チェック",
        "answer01_desc": "配列の要素を1つずつ確認し、新しい配列にまだ入っていない要素だけを追加していく方法です。例えば[1, 2, 2, 3, 3, 3]という配列なら、[1, 2, 3]という配列ができます。",
        "answer02_code": "return array_unique($arr);",
        "answer02_hint": "array_unique関数使用",
        "answer02_desc": "PHPの組み込み関数array_unique()を使って重複する要素を自動的に取り除く方法です。最も簡単で効率的な方法です。",
        "answer03_code": "return array_values(array_unique($arr));",
        "answer03_hint": "インデックスを振り直し",
        "answer03_desc": "array_unique()で重複を除去し、array_values()でインデックスを振り直す方法です。連続したインデックスを持つ配列が得られます。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "ファイルの読み込み",
        "description": "指定されたファイルの内容を読み込んで返す関数 `readFile` を作成してください。ファイルが存在しない場合はnullを返してください。",
        "templateCode": "<?php\nfunction readFile($filename) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "if (!file_exists($filename)) {\n  return null;\n}\nreturn file_get_contents($filename);",
        "answer01_hint": "file_existsで存在確認",
        "answer01_desc": "file_exists()関数でファイルの存在を確認し、存在する場合はfile_get_contents()でファイルの内容を読み込む方法です。最も基本的なファイル読み込みのパターンです。",
        "answer02_code": "try {\n  return file_get_contents($filename);\n} catch (Exception $e) {\n  return null;\n}",
        "answer02_hint": "例外処理でエラーハンドリング",
        "answer02_desc": "try-catch文を使って例外処理でエラーハンドリングを行う方法です。ファイルが存在しない場合や読み込みエラーの場合にnullを返します。",
        "answer03_code": "if (!is_readable($filename)) {\n  return null;\n}\n$content = file_get_contents($filename);\nreturn $content !== false ? $content : null;",
        "answer03_hint": "is_readableで読み込み可能確認",
        "answer03_desc": "is_readable()関数でファイルが読み込み可能かどうかを確認し、file_get_contents()の戻り値もチェックする方法です。より厳密なエラーハンドリングができます。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "CSVファイルの処理",
        "description": "CSVファイルを読み込んで配列に変換する関数 `parseCSV` を作成してください。",
        "templateCode": "<?php\nfunction parseCSV($filename) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$result = [];\nif (($handle = fopen($filename, 'r')) !== false) {\n  while (($data = fgetcsv($handle)) !== false) {\n    $result[] = $data;\n  }\n  fclose($handle);\n}\nreturn $result;",
        "answer01_hint": "fopenとfgetcsvで行ごとに処理",
        "answer01_desc": "fopen()でファイルを開き、fgetcsv()で行ごとにCSVデータを読み込む方法です。各行を配列として結果配列に追加していきます。",
        "answer02_code": "return array_map('str_getcsv', file($filename));",
        "answer02_hint": "fileとstr_getcsvで一括処理",
        "answer02_desc": "file()関数でファイル全体を配列として読み込み、array_map()とstr_getcsv()で各行をCSVとして解析する方法です。短いコードで書けます。",
        "answer03_code": "if (!file_exists($filename)) {\n  return [];\n}\n$content = file_get_contents($filename);\n$lines = explode(\"\\n\", trim($content));\n$result = [];\nforeach ($lines as $line) {\n  if (!empty($line)) {\n    $result[] = str_getcsv($line);\n  }\n}\nreturn $result;",
        "answer03_hint": "手動でCSV解析",
        "answer03_desc": "file_get_contents()でファイル全体を読み込み、explode()で行に分割し、str_getcsv()で各行をCSVとして解析する方法です。空行の処理も含まれています。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "JSONデータの処理",
        "description": "JSON文字列を配列に変換し、配列をJSON文字列に変換する関数を作成してください。",
        "templateCode": "<?php\nfunction parseJSON($jsonString) {\n  // ここに書くコードを考えてください\n}\n\nfunction toJSON($data) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "function parseJSON($jsonString) {\n  return json_decode($jsonString, true);\n}\n\nfunction toJSON($data) {\n  return json_encode($data);\n}",
        "answer01_hint": "json_decodeとjson_encode使用",
        "answer01_desc": "json_decode()関数でJSON文字列を配列に変換し、json_encode()関数で配列をJSON文字列に変換する方法です。最も基本的なJSON処理のパターンです。",
        "answer02_code": "function parseJSON($jsonString) {\n  $result = json_decode($jsonString, true);\n  if (json_last_error() !== JSON_ERROR_NONE) {\n    return null;\n  }\n  return $result;\n}\n\nfunction toJSON($data) {\n  $result = json_encode($data);\n  if (json_last_error() !== JSON_ERROR_NONE) {\n    return null;\n  }\n  return $result;\n}",
        "answer02_hint": "エラーハンドリング付き",
        "answer02_desc": "json_last_error()関数を使ってJSON処理のエラーをチェックし、エラーが発生した場合はnullを返す方法です。より安全なJSON処理ができます。",
        "answer03_code": "function parseJSON($jsonString) {\n  try {\n    return json_decode($jsonString, true, 512, JSON_THROW_ON_ERROR);\n  } catch (JsonException $e) {\n    return null;\n  }\n}\n\nfunction toJSON($data) {\n  try {\n    return json_encode($data, JSON_THROW_ON_ERROR);\n  } catch (JsonException $e) {\n    return null;\n  }\n}",
        "answer03_hint": "例外処理でエラーハンドリング",
        "answer03_desc": "JSON_THROW_ON_ERRORフラグを使って例外を発生させ、try-catch文でエラーハンドリングを行う方法です。PHP 7.3以降で使用できます。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "正規表現による文字列置換",
        "description": "正規表現を使って文字列内の特定のパターンを置換する関数 `replacePattern` を作成してください。",
        "templateCode": "<?php\nfunction replacePattern($string, $pattern, $replacement) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "return preg_replace($pattern, $replacement, $string);",
        "answer01_hint": "preg_replace関数使用",
        "answer01_desc": "PHPの組み込み関数preg_replace()を使って正規表現による文字列置換を行う方法です。最も基本的な正規表現置換のパターンです。",
        "answer02_code": "if (preg_match($pattern, $string)) {\n  return preg_replace($pattern, $replacement, $string);\n}\nreturn $string;",
        "answer02_hint": "パターンマッチ確認後置換",
        "answer02_desc": "preg_match()でパターンが存在するかどうかを確認してから置換を行う方法です。不要な置換処理を避けることができます。",
        "answer03_code": "return preg_replace_callback($pattern, function($matches) use ($replacement) {\n  return $replacement;\n}, $string);",
        "answer03_hint": "コールバック関数で置換",
        "answer03_desc": "preg_replace_callback()を使ってコールバック関数で置換処理を行う方法です。より複雑な置換ロジックを実装できます。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "日付のフォーマット",
        "description": "日付文字列を指定された形式に変換する関数 `formatDate` を作成してください。",
        "templateCode": "<?php\nfunction formatDate($dateString, $format = 'Y-m-d') {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$date = new DateTime($dateString);\nreturn $date->format($format);",
        "answer01_hint": "DateTimeクラス使用",
        "answer01_desc": "DateTimeクラスを使って日付文字列を解析し、format()メソッドで指定された形式に変換する方法です。最も基本的な日付フォーマットのパターンです。",
        "answer02_code": "try {\n  $date = new DateTime($dateString);\n  return $date->format($format);\n} catch (Exception $e) {\n  return null;\n}",
        "answer02_hint": "例外処理付き",
        "answer02_desc": "try-catch文を使って日付解析のエラーをハンドリングする方法です。無効な日付文字列が渡された場合にnullを返します。",
        "answer03_code": "if (strtotime($dateString) === false) {\n  return null;\n}\nreturn date($format, strtotime($dateString));",
        "answer03_hint": "strtotimeとdate関数使用",
        "answer03_desc": "strtotime()関数で日付文字列をタイムスタンプに変換し、date()関数で指定された形式にフォーマットする方法です。より古いPHPでも使用できます。"
    },
    {
        "contentId": "",
        "language": "PHP",
        "framework": "PHP(Vanilla)",
        "title": "ディレクトリの内容取得",
        "description": "指定されたディレクトリ内のファイルとフォルダの一覧を取得する関数 `getDirectoryContents` を作成してください。",
        "templateCode": "<?php\nfunction getDirectoryContents($directory) {\n  // ここに書くコードを考えてください\n}",
        "answer01_code": "$contents = [];\nif (is_dir($directory)) {\n  $files = scandir($directory);\n  foreach ($files as $file) {\n    if ($file !== '.' && $file !== '..') {\n      $contents[] = $file;\n    }\n  }\n}\nreturn $contents;",
        "answer01_hint": "scandir関数使用",
        "answer01_desc": "is_dir()でディレクトリかどうかを確認し、scandir()でディレクトリの内容を取得する方法です。'.'と'..'は除外します。",
        "answer02_code": "if (!is_dir($directory)) {\n  return [];\n}\n$contents = [];\n$iterator = new DirectoryIterator($directory);\nforeach ($iterator as $file) {\n  if (!$file->isDot()) {\n    $contents[] = $file->getFilename();\n  }\n}\nreturn $contents;",
        "answer02_hint": "DirectoryIteratorクラス使用",
        "answer02_desc": "DirectoryIteratorクラスを使ってディレクトリの内容を取得する方法です。オブジェクト指向的なアプローチで、より詳細な情報も取得できます。",
        "answer03_code": "if (!is_readable($directory)) {\n  return [];\n}\n$contents = [];\n$handle = opendir($directory);\nwhile (($file = readdir($handle)) !== false) {\n  if ($file !== '.' && $file !== '..') {\n    $contents[] = $file;\n  }\n}\nclosedir($handle);\nreturn $contents;",
        "answer03_hint": "opendirとreaddir関数使用",
        "answer03_desc": "opendir()、readdir()、closedir()関数を使ってディレクトリの内容を取得する方法です。より低レベルなアプローチですが、メモリ効率が良い場合があります。"
    }
]